"use strict";var bus=new Vue,siteUrl,siteProtocol=location.protocol,realSiteUrl=location.host;siteUrl="localhost:3000"===realSiteUrl?siteProtocol+"//alexwp2017.dev":siteProtocol+"//"+realSiteUrl;var store={siteUrl:siteUrl,state:{offset:0,totalPages:0},getOffset:function t(){return this.state.offset},setOffset:function t(e){this.state.offset=e},getTotalPage:function t(){return this.state.totalPages},setTotalPage:function t(e){this.state.totalPages=e}};Vue.component("post-listing",{data:function t(){return{message:"Load More",showButton:!0,posts:[],showPosts:!1,isLastPage:!1}},props:["numberOfPosts"],template:"#post-list-template",methods:{randomUnsplash:function t(e){return"https://unsplash.it/700/700?image="+Math.floor(e/5)},image:function t(e){return e._embedded["wp:featuredmedia"]?e._embedded["wp:featuredmedia"][0].media_details.sizes.thumbnail.source_url:this.randomUnsplash(e.id)},getPosts:function t(){var e=this,s=store.getOffset();this.$http.get(store.siteUrl+"/wp-json/wp/v2/posts?_embed&page=1&per_page="+this.numberOfPosts+"&offset="+s).then(function(t){var o=t.data;e.posts=e.posts.concat(o),e.message="Load More",e.showPosts=!0;var a=t.headers.map["x-wp-totalpages"][0];Math.floor(s/10)+1==a&&(e.isLastPage=!0)},function(t){console.log(t)})},loadMore:function t(){this.message="Loading...";var e=store.getOffset();store.setOffset(e+10),this.getPosts()}},mounted:function t(){this.getPosts()}});var vm=new Vue({el:"#app",data:store.state});